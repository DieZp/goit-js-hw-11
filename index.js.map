{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default function getImagesByQuery(query) {  \n  return axios\n    .get('https://pixabay.com/api/', {\n                    params: {\n                      key: '52741134-5926d2746c8ce75ed1523309f',\n                      q: query,\n                      image_type: \"photo\",\n                      orientation: 'horizontal',\n                      safesearch: true,\n                      per_page: 36,\n                    }\n                  })\n    .then(response => {      \n      return response.data.hits;\n    })\n    .catch(() => {      \n      return [];\n    });    \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.span-loader');\nconst loadmorebtn = document.querySelector('.form-btn-load');\nconst lightbox = new SimpleLightbox('.gallery-link', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 1,\n});\n\nexport function createGallery(images) {\n    const galleryStr = images\n        .map(image => {\n            return `<li class=\"gallery-item\">\n                        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                        <img\n                            class=\"gallery-img\"\n                            src=\"${image.webformatURL}\"\n                            alt=\"${image.tags}\"\n                        />\n                        <ul class=\"gallery-desc\">\n                            <li class=\"gallery-desc-item\">\n                                <span class=\"gallery-desc-item-name\">Likes</span>\n                                <span class=\"gallery-desc-item-value\">${image.likes}</span>\n                            </li>\n                            <li class=\"gallery-desc-item\">\n                                <span class=\"gallery-desc-item-name\">Views</span>\n                                <span class=\"gallery-desc-item-value\">${image.views}</span>\n                            </li>\n                            <li class=\"gallery-desc-item\">\n                                <span class=\"gallery-desc-item-name\">Comments</span>\n                                <span class=\"gallery-desc-item-value\">${image.comments}</span>\n                            </li>\n                            <li class=\"gallery-desc-item\">\n                                <span class=\"gallery-desc-item-name\">Downloads</span>\n                                <span class=\"gallery-desc-item-value\">${image.downloads}</span>\n                            </li>\n                        </ul>\n                        </a>\n                    </li>`})\n        .join(\"\");\n\n    gallery.insertAdjacentHTML('beforeend', galleryStr);    \n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.add('loader');\n}\n\nexport function hideLoader() {    \n    loader.classList.remove('loader');\n}\n\nexport function showLoadMoreButton() {\n    loadmorebtn.classList.add('is-active');\n}\n\nexport function hideLoadMoreButton() {\n    loadmorebtn.classList.remove('is-active');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImagesByQuery from \"/js/pixabay-api.js\";\nimport * as render from \"/js/render-functions.js\";\n\nconst form = document.querySelector('.form');\n\nconst galleryUpd = (evt) => {\n    evt.preventDefault();    \n    const keyWord = evt.target.elements['search-text'].value.trim();    \n    form.reset();\n    if (!(keyWord)) return;\n    \n    render.clearGallery();\n    render.showLoader();    \n    \n    getImagesByQuery(keyWord)\n        .then((images) => {\n            render.hideLoader();\n            if (images.length === 0) {\n                throw new Error('Invalid search query');\n            }            \n            render.createGallery(images);\n        })\n        .catch(() => {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: \"topRight\",\n            });\n        });        \n}\n\nform.addEventListener('submit', galleryUpd);"],"names":["getImagesByQuery","query","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","galleryStr","image","clearGallery","showLoader","hideLoader","form","galleryUpd","evt","keyWord","render.clearGallery","render.showLoader","render.hideLoader","render.createGallery","iziToast"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC9C,OAAOC,EACJ,IAAI,2BAA4B,CACjB,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACrB,CAAmB,EACd,KAAKE,GACGA,EAAS,KAAK,IACtB,EACA,MAAM,IACE,EACR,CACL,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,cAAc,EAChC,SAAS,cAAc,gBAAgB,EAC3D,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,CACpB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAaD,EACd,IAAIE,GACM;AAAA,wDACqCA,EAAM,aAAa;AAAA;AAAA;AAAA,mCAGxCA,EAAM,YAAY;AAAA,mCAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wEAK2BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wEAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wEAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wEAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,0BAI5D,EAClB,KAAK,EAAE,EAEZP,EAAQ,mBAAmB,YAAaM,CAAU,EAClDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BR,EAAQ,UAAY,EACxB,CAEO,SAASS,GAAa,CACzBR,EAAO,UAAU,IAAI,QAAQ,CACjC,CAEO,SAASS,GAAa,CACzBT,EAAO,UAAU,OAAO,QAAQ,CACpC,CCrDA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAcC,GAAQ,CACxBA,EAAI,eAAc,EAClB,MAAMC,EAAUD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OACzDF,EAAK,MAAK,EACJG,IAENC,IACAC,IAEApB,EAAiBkB,CAAO,EACnB,KAAMT,GAAW,CAEd,GADAY,IACIZ,EAAO,SAAW,EAClB,MAAM,IAAI,MAAM,sBAAsB,EAE1Ca,EAAqBb,CAAM,CACvC,CAAS,EACA,MAAM,IAAM,CACTc,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACT,EAEAR,EAAK,iBAAiB,SAAUC,CAAU"}