{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default function getImagesByQuery(query) {  \r\n  return axios\r\n    .get('https://pixabay.com/api/', {\r\n                    params: {\r\n                      key: '52741134-5926d2746c8ce75ed1523309f',\r\n                      q: query,\r\n                      image_type: \"photo\",\r\n                      orientation: 'horizontal',\r\n                      safesearch: true,\r\n                      per_page: 36,\r\n                    }\r\n                  })\r\n    .then(response => {      \r\n      return response.data.hits;\r\n    })\r\n    .catch(() => {      \r\n      return [];\r\n    });    \r\n}","import SimpleLightbox from \"simplelightbox\";\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\nconst gallery = document.querySelector('.gallery');\r\nconst loader = document.querySelector('.span-loader');\r\nconst loadmorebtn = document.querySelector('.form-btn-load');\r\nconst lightbox = new SimpleLightbox('.gallery-link', {\r\n    captions: true,\r\n    captionsData: 'alt',\r\n    captionDelay: 250,\r\n    overlayOpacity: 1,\r\n});\r\n\r\nexport function createGallery(images) {\r\n    const galleryStr = images\r\n        .map(image => {\r\n            return `<li class=\"gallery-item\">\r\n                        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\r\n                        <img\r\n                            class=\"gallery-img\"\r\n                            src=\"${image.webformatURL}\"\r\n                            alt=\"${image.tags}\"\r\n                        />\r\n                        <ul class=\"gallery-desc\">\r\n                            <li class=\"gallery-desc-item\">\r\n                                <span class=\"gallery-desc-item-name\">Likes</span>\r\n                                <span class=\"gallery-desc-item-value\">${image.likes}</span>\r\n                            </li>\r\n                            <li class=\"gallery-desc-item\">\r\n                                <span class=\"gallery-desc-item-name\">Views</span>\r\n                                <span class=\"gallery-desc-item-value\">${image.views}</span>\r\n                            </li>\r\n                            <li class=\"gallery-desc-item\">\r\n                                <span class=\"gallery-desc-item-name\">Comments</span>\r\n                                <span class=\"gallery-desc-item-value\">${image.comments}</span>\r\n                            </li>\r\n                            <li class=\"gallery-desc-item\">\r\n                                <span class=\"gallery-desc-item-name\">Downloads</span>\r\n                                <span class=\"gallery-desc-item-value\">${image.downloads}</span>\r\n                            </li>\r\n                        </ul>\r\n                        </a>\r\n                    </li>`})\r\n        .join(\"\");\r\n\r\n    gallery.insertAdjacentHTML('beforeend', galleryStr);    \r\n    lightbox.refresh();\r\n}\r\n\r\nexport function clearGallery() {\r\n    gallery.innerHTML = \"\";\r\n}\r\n\r\nexport function showLoader() {\r\n    loader.classList.add('loader');\r\n}\r\n\r\nexport function hideLoader() {    \r\n    loader.classList.remove('loader');\r\n}\r\n\r\nexport function showLoadMoreButton() {\r\n    loadmorebtn.classList.add('is-active');\r\n}\r\n\r\nexport function hideLoadMoreButton() {\r\n    loadmorebtn.classList.remove('is-active');\r\n}","import iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nimport getImagesByQuery from \"/js/pixabay-api\";\r\nimport * as render from \"/js/render-functions\";\r\n\r\nconst form = document.querySelector('.form');\r\n\r\nconst galleryUpd = (evt) => {\r\n    evt.preventDefault();    \r\n    const keyWord = evt.target.elements['search-text'].value.trim();    \r\n    form.reset();\r\n    if (!(keyWord)) return;\r\n    \r\n    render.clearGallery();\r\n    render.showLoader();    \r\n    \r\n    getImagesByQuery(keyWord)\r\n        .then((images) => {\r\n            render.hideLoader();\r\n            if (images.length === 0) {\r\n                throw new Error('Invalid search query');\r\n            }            \r\n            render.createGallery(images);\r\n        })\r\n        .catch(() => {\r\n            iziToast.error({\r\n                message: 'Sorry, there are no images matching your search query. Please try again!',\r\n                position: \"topRight\",\r\n            });\r\n        });        \r\n}\r\n\r\nform.addEventListener('submit', galleryUpd);"],"names":["getImagesByQuery","query","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","galleryStr","image","clearGallery","showLoader","hideLoader","form","galleryUpd","evt","keyWord","render.clearGallery","render.showLoader","render.hideLoader","render.createGallery","iziToast"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC9C,OAAOC,EACJ,IAAI,2BAA4B,CACjB,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACrB,CAAmB,EACd,KAAKE,GACGA,EAAS,KAAK,IACtB,EACA,MAAM,IACE,EACR,CACL,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,cAAc,EAChC,SAAS,cAAc,gBAAgB,EAC3D,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,CACpB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAaD,EACd,IAAIE,GACM;AAAA,wDACqCA,EAAM,aAAa;AAAA;AAAA;AAAA,mCAGxCA,EAAM,YAAY;AAAA,mCAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wEAK2BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wEAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wEAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wEAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,0BAI5D,EAClB,KAAK,EAAE,EAEZP,EAAQ,mBAAmB,YAAaM,CAAU,EAClDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BR,EAAQ,UAAY,EACxB,CAEO,SAASS,GAAa,CACzBR,EAAO,UAAU,IAAI,QAAQ,CACjC,CAEO,SAASS,GAAa,CACzBT,EAAO,UAAU,OAAO,QAAQ,CACpC,CCrDA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAcC,GAAQ,CACxBA,EAAI,eAAc,EAClB,MAAMC,EAAUD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OACzDF,EAAK,MAAK,EACJG,IAENC,IACAC,IAEApB,EAAiBkB,CAAO,EACnB,KAAMT,GAAW,CAEd,GADAY,IACIZ,EAAO,SAAW,EAClB,MAAM,IAAI,MAAM,sBAAsB,EAE1Ca,EAAqBb,CAAM,CACvC,CAAS,EACA,MAAM,IAAM,CACTc,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACT,EAEAR,EAAK,iBAAiB,SAAUC,CAAU"}